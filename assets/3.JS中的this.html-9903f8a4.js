import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,f as t}from"./app-131d0148.js";const p="/knowledge/assets/image-2-76de8367.png",e="data:image/png;base64,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",o="/knowledge/assets/image-4-af6110eb.png",i="/knowledge/assets/image-5-cd67d548.png",c={},l=t(`<h1 id="js-中-this" tabindex="-1"><a class="header-anchor" href="#js-中-this" aria-hidden="true">#</a> JS 中 this</h1><h2 id="this指向" tabindex="-1"><a class="header-anchor" href="#this指向" aria-hidden="true">#</a> this指向</h2><ol><li><p>作为普通函数执行时，<code>this</code>指向<code>window</code>。</p></li><li><p>当函数作为对象的方法被调用时，<code>this</code>就会指向<code>该对象</code>。</p></li><li><p>构造器调用，<code>this</code>指向<code>返回的这个对象</code>。</p></li><li><p><mark>箭头函数</mark> 箭头函数的<code>this</code>绑定看的是this所在函数定义在哪个对象下，就绑定哪个对象。如果有嵌套的情况，则this绑定到最近的一层对象上。</p></li><li><p>基于Function.prototype上的 <code>apply 、 call 和 bind </code>调用模式。<br><code>apply 、 call 和 bind </code>区别：</p><ul><li><p>三者都可以改变函数的this对象指向</p></li><li><p>三者第一个参数都是this要指向的对象，如果没有参数或参数=undefined或null，则默认指向window</p></li><li><p>apply传参为数组、call为参数列表，且它们是一次性传入参数。bind可以分为多次传入</p></li><li><p>apply、call是立即执行；bind是返回绑定this之后的函数，便于稍后调用。</p></li><li><p>bind会返回一个新的函数，如果这个新函数作为构造函数创建一个新的对象。那么this指向用new创建的实例。</p></li></ul><div class="hint-container warning"><p class="hint-container-title">严格模式</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>// 开启严格模式
use strict
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>全局执行环境：严格模式，非严格模式都指向全局对象（window）</li><li>函数内部 <ul><li>直接调用 <ul><li>严格模式下:undefined</li><li>非严格模式:全局对象（window）</li></ul></li><li>对象方法调用：严格模式，非严格模式都指向调用者</li></ul></li></ol></div></li></ol><h2 id="然后指定this的值" tabindex="-1"><a class="header-anchor" href="#然后指定this的值" aria-hidden="true">#</a> 然后指定this的值</h2><ol><li>调用时指定：call方法和apply方法</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>  <span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token parameter"><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;qiu&#39;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// call方法</span>
  <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token comment">// apply方法：数组传入</span>
  <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token comment">// 打印结果：this都是指向person</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+p+`" alt="输出结果" tabindex="0" loading="lazy"><figcaption>输出结果</figcaption></figure><ol start="2"><li>创建时指定：bind方法和箭头函数</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>
 <span class="token keyword">const</span> bindFunc <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token number">666</span><span class="token punctuation">)</span> <span class="token comment">// 不输出</span>
 <span class="token comment">// 调用函数后打印结果</span>
  <span class="token function">bindFunc</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+e+`" alt="Alt text" tabindex="0" loading="lazy"><figcaption>Alt text</figcaption></figure><p>箭头函数</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> cat <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;miao&#39;</span><span class="token punctuation">,</span>
    <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// 指向cat</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 箭头函数的定时器也指向</span>

      <span class="token comment">// setTimeout(function () {</span>
      <span class="token comment">//   console.log(this)</span>
      <span class="token comment">// }, 1000) // 普通函数的定时器指向window</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  cat<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+o+`" alt="Alt text" tabindex="0" loading="lazy"><figcaption>Alt text</figcaption></figure><p><mark>当对象里的方法也为箭头函数时</mark></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> cat2 <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;miao&quot;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">eat</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      cat2<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 输出结果：this 都指向window</span>
      <span class="token comment">// 箭头函数不绑定this，会捕获其所在的上下文的this值，作为自己的this值</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="`+i+'" alt="Alt text" tabindex="0" loading="lazy"><figcaption>Alt text</figcaption></figure>',16),u=[l];function d(r,k){return s(),a("div",null,u)}const b=n(c,[["render",d],["__file","3.JS中的this.html.vue"]]);export{b as default};
