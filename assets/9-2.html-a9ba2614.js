import{_ as i}from"./plugin-vue_export-helper-c27b6911.js";import{r as l,o as r,c as k,a as d,b as n,d as s,e,w as a,f as u}from"./app-131d0148.js";const v="/knowledge/assets/image-2-c8553f81.png",m="/knowledge/assets/image-1-57e2257f.png",b={},g=n("h1",{id:"vue-接入百度地图",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#vue-接入百度地图","aria-hidden":"true"},"#"),s(" Vue 接入百度地图")],-1),h=n("p",null,"由于项目的需求，需要在平台首页的大屏中加入地图模块，主要用于显示当前各工程的所在位置及工程情况。",-1),q=n("p",null,"之前在大学参加计算机设计大赛期间，有用到百度地图的功能，比较熟悉，因此采用百度地图的 API 来实现这次的需求。",-1),f=n("h2",{id:"申请百度地图-ak",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#申请百度地图-ak","aria-hidden":"true"},"#"),s(" 申请百度地图 AK")],-1),y=n("img",{src:v,alt:"Alt text",loading:"lazy"},null,-1),_=n("br",null,null,-1),w={href:"https://lbsyun.baidu.com/",target:"_blank",rel:"noopener noreferrer"},x=n("br",null,null,-1),A=n("img",{src:m,alt:"Alt text",loading:"lazy"},null,-1),j=u('<h2 id="使用-vue-baidu-map" tabindex="-1"><a class="header-anchor" href="#使用-vue-baidu-map" aria-hidden="true">#</a> 使用 vue-baidu-map</h2><ol><li>回到项目，安装或者引入 vue-baidu-map 插件<sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup></li></ol>',2),B=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"npm"),s(),n("span",{class:"token function"},"install"),s(" vue-baidu-map "),n("span",{class:"token parameter variable"},"--save"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),z=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token operator"},"<"),s("script src"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"https://unpkg.com/vue-baidu-map"'),n("span",{class:"token operator"},">"),n("span",{class:"token operator"},"<"),n("span",{class:"token operator"},"/"),s("script"),n("span",{class:"token operator"},">"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"})])],-1),M=n("ol",{start:"2"},[n("li",null,"引用组件")],-1),P=n("strong",null,"全局注册",-1),V=n("div",{class:"language-javascript line-numbers-mode","data-ext":"js"},[n("pre",{class:"language-javascript"},[n("code",null,[n("span",{class:"token comment"},"//在main.js中引用"),s(`
`),n("span",{class:"token keyword"},"import"),s(" BaiduMap "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},'"vue-baidu-map"'),n("span",{class:"token punctuation"},";"),s(`
Vue`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"use"),n("span",{class:"token punctuation"},"("),s("BaiduMap"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token comment"},"// ak 是在百度地图开发者平台申请的密钥"),s(`
  `),n("span",{class:"token literal-property property"},"ak"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},'"YOUR_APP_KEY"'),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),I=u(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueBaiduMap<span class="token punctuation">.</span>default<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">ak</span><span class="token operator">:</span> <span class="token string">&#39;YOUR_APP_KEY&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>:::</p><ul><li><strong>局部引用</strong>（按需引用，可以减少工程打包后的大小）</li></ul><ol start="3"><li><p>在 main.js 引入后就可以开始使用了。以下是需要使用到地图的 vue 页面</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>baidu-map</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">center</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>北京<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>baidu-map</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.map</span> <span class="token punctuation">{</span>
 &lt;!-- 地图的样式 --&gt;
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><div class="hint-container warning"><p class="hint-container-title">提示</p><ul><li><p><code>BaiduMap</code> 组件容器本身是一个空的块级元素，如果容器不定义高度，百度地图将渲染在一个高度为 0 不可见的容器内。</p></li><li><p>没有设置 <code>center</code> 和 <code>zoom</code> 属性的地图组件是不进行地图渲染的。当<code>center</code> 属性为合法地名字符串时例外，因为百度地图会根据地名自动调整 <code>zoom</code> 的值。</p></li><li><p>由于百度地图 JS API<sup class="footnote-ref"><a href="#footnote2">[2]</a><a class="footnote-anchor" id="footnote-ref2"></a></sup>: 这是脚注内容 只有 JSONP 一种加载方式，因此 <code>BaiduMap</code> 组件及其所有子组件的渲染只能是异步的。因此，请使用在组件的 <code>ready</code> 事件<sup class="footnote-ref"><a href="#footnote3">[3]</a><a class="footnote-anchor" id="footnote-ref3"></a></sup>来执行地图 API 加载完毕后才能执行的代码，不要试图在 vue 自身的生命周期中调用 <code>BMap</code> 类，更不要在这些时机修改 model 层。</p></li></ul></div><h2 id="实例-地图标记选择地址" tabindex="-1"><a class="header-anchor" href="#实例-地图标记选择地址" aria-hidden="true">#</a> 实例-地图标记选择地址</h2><p>接下来实现一个地图标记选择地址的功能吧！</p><p><span style="color:red;">需求</span>：在新建工程时、新建用户信息时可以通过它来详细的设置默认地址。</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- 
  地图弹出框
  引用了element UI的el-dialog
   --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-dialog</span>
    <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>地图<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:visible.sync</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialogmap<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">@opened</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>open<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">:close-on-click-modal</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">append-to-body</span>
  <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapbox<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- 
            引入baiduMap 
          1. center：地图初始化时地图指针默认地点，未指定则为北京市
             参数： { lng: 0, lat: 0 }
          2. zoom：地图缩放程度
             croll-wheel-zoom: 是否鼠标滚轮缩放

        --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>baidu-map</span>
        <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:center</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapcenter<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:zoom</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>15<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:scroll-wheel-zoom</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map_canvas<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapmarker<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bm-marker</span> <span class="token attr-name">:position</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map_pos<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:dragging</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@dragging</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapmarker<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bm-marker</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bm-control</span> <span class="token attr-name">:offset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ width: &#39;10px&#39;, height: &#39;10px&#39; }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bm-auto-complete</span>
            <span class="token attr-name">:sugStyle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ zIndex: 9999 }<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialogmap<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map_search<span class="token punctuation">&quot;</span></span>
          <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
              <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pac-input<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>controls<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>搜索地图<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">destroy-on-close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map_search<span class="token punctuation">&quot;</span></span>
            <span class="token punctuation">/&gt;</span></span>
            <span class="token comment">&lt;!-- 这里指代一个自定义搜索框组件 --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bm-auto-complete</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bm-local-search</span>
            <span class="token attr-name">:keyword</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map_search<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:auto-viewport</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@searchcomplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>searchend<span class="token punctuation">&quot;</span></span>
            <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span> <span class="token property">overflow</span><span class="token punctuation">:</span> hidden</span><span class="token punctuation">&quot;</span></span></span>
            <span class="token attr-name">@markersset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setmarker<span class="token punctuation">&quot;</span></span>
          <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bm-local-search</span><span class="token punctuation">&gt;</span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bm-control</span>
        <span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>baidu-map</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialog-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dialogmap = false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>取消<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maplat<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-dialog</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// 地图弹出框</span>
      <span class="token literal-property property">dialogmap</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">map_search</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">lat</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">mapcenter</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">map_pos</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 判断是否搜索</span>
      <span class="token literal-property property">issearch</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">form</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">Address</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">Lng</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//经度</span>
        <span class="token literal-property property">Lat</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 维度</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 地图标记选择地址</span>
    <span class="token function">mapBuild</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>dialogmap <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>mapcenter <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">lng</span><span class="token operator">:</span> <span class="token number">113.461736</span><span class="token punctuation">,</span> <span class="token literal-property property">lat</span><span class="token operator">:</span> <span class="token number">23.171955</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token comment">// 设置标记点的坐标值</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>map_pos <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">lng</span><span class="token operator">:</span> <span class="token number">113.461736</span><span class="token punctuation">,</span> <span class="token literal-property property">lat</span><span class="token operator">:</span> <span class="token number">23.171955</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 点击地图设置变成标记点</span>
    <span class="token comment">// 拖拽标记点显示内容</span>
    <span class="token function">mapmarker</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>issearch <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>map_pos<span class="token punctuation">.</span>lng <span class="token operator">=</span> e<span class="token punctuation">.</span>point<span class="token punctuation">.</span>lng<span class="token punctuation">;</span> <span class="token comment">// 通过  e.point.lng获取经度</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>map_pos<span class="token punctuation">.</span>lat <span class="token operator">=</span> e<span class="token punctuation">.</span>point<span class="token punctuation">.</span>lat<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>mapcenter<span class="token punctuation">.</span>lng <span class="token operator">=</span> e<span class="token punctuation">.</span>point<span class="token punctuation">.</span>lng<span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>mapcenter<span class="token punctuation">.</span>lat <span class="token operator">=</span> e<span class="token punctuation">.</span>point<span class="token punctuation">.</span>lat<span class="token punctuation">;</span>

      <span class="token keyword">let</span> geocoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Geocoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建地址解析器的实例</span>
      geocoder<span class="token punctuation">.</span><span class="token function">getLocation</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>point<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">rs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">//   //搜索确定的东西传递给搜索框</span>
        that<span class="token punctuation">.</span>map_search <span class="token operator">=</span> rs<span class="token punctuation">.</span>address<span class="token punctuation">;</span>
        that<span class="token punctuation">.</span>form<span class="token punctuation">.</span>location <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">location</span><span class="token operator">:</span> e<span class="token punctuation">.</span>point<span class="token punctuation">.</span>lat <span class="token operator">+</span> <span class="token string">&quot; , &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>point<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>
          <span class="token literal-property property">address</span><span class="token operator">:</span> rs<span class="token punctuation">.</span>address<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">searchend</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      that<span class="token punctuation">.</span>issearch <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">setmarker</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">maplat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>mapcenter<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>issearch <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;this :&gt;&gt; &quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> geocoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMap<span class="token punctuation">.</span>Geocoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        geocoder<span class="token punctuation">.</span><span class="token function">getPoint</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>map_search<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;this2 :&gt;&gt; &quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;that :&gt;&gt; &quot;</span><span class="token punctuation">,</span> that<span class="token punctuation">)</span><span class="token punctuation">;</span>
          that<span class="token punctuation">.</span>form<span class="token punctuation">.</span>location <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">location</span><span class="token operator">:</span> res<span class="token punctuation">.</span>lat <span class="token operator">+</span> <span class="token string">&quot; , &quot;</span> <span class="token operator">+</span> res<span class="token punctuation">.</span>lng<span class="token punctuation">,</span>
            <span class="token literal-property property">address</span><span class="token operator">:</span> that<span class="token punctuation">.</span>map_search<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
          that<span class="token punctuation">.</span>form<span class="token punctuation">.</span>Lng <span class="token operator">=</span> res<span class="token punctuation">.</span>lng<span class="token punctuation">;</span>
          that<span class="token punctuation">.</span>form<span class="token punctuation">.</span>Lat <span class="token operator">=</span> res<span class="token punctuation">.</span>lat<span class="token punctuation">;</span>
          that<span class="token punctuation">.</span>form<span class="token punctuation">.</span>Address <span class="token operator">=</span> that<span class="token punctuation">.</span>map_search<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;获取地图后的form :&gt;&gt; &quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>form<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>lat <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>map_search<span class="token punctuation">;</span> <span class="token comment">// 关闭弹出框</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>dialogmap <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上就是接入百度地图的基本操作，其他功能可以查看官方的开发文档。</p><hr class="footnotes-sep">`,11),L={class:"footnotes"},N={class:"footnotes-list"},C={id:"footnote1",class:"footnote-item"},E={href:"https://dafrok.github.io/vue-baidu-map/#/zh/start/installation",target:"_blank",rel:"noopener noreferrer"},K=n("a",{href:"#footnote-ref1",class:"footnote-backref"},"↩︎",-1),S={id:"footnote2",class:"footnote-item"},Y={href:"https://lbsyun.baidu.com/index.php?title=jspopularGL",target:"_blank",rel:"noopener noreferrer"},G=n("a",{href:"#footnote-ref2",class:"footnote-backref"},"↩︎",-1),J=n("li",{id:"footnote3",class:"footnote-item"},[n("p",null,[n("code",null,"ready"),s("：地图组件渲染完毕时触发，返回一个百度地图的核心类和地图实例。在所需组件的 "),n("code",null,"ready"),s(" 事件回调函数的参数中获取"),n("code",null,"BMap"),s("和"),n("code",null,"map"),s("实例 "),n("a",{href:"#footnote-ref3",class:"footnote-backref"},"↩︎")])],-1);function O(T,U){const o=l("ExternalLinkIcon"),c=l("Tabs");return r(),k("div",null,[g,h,q,d(" more "),f,n("p",null,[y,_,s(" 在使用之前，须进入"),n("a",w,[s("百度地图开放平台"),e(o)]),s(" ,注册并申请百度地图的 AK。进入控制台页面，进行开发者认证。认证后点击应用管理中的我的应用，创建一个应用最后获得密钥（应用 AK）"),x,A]),j,e(c,{id:"26",data:[{id:"npm"},{id:"cdn"}],"tab-id":"func"},{title0:a(({value:t,isActive:p})=>[s("npm")]),title1:a(({value:t,isActive:p})=>[s("CDN 引入")]),tab0:a(({value:t,isActive:p})=>[B]),tab1:a(({value:t,isActive:p})=>[z]),_:1}),M,n("ul",null,[n("li",null,[P,e(c,{id:"46",data:[{id:"npm"},{id:"cdn"}],"tab-id":"func"},{title0:a(({value:t,isActive:p})=>[s("npm")]),title1:a(({value:t,isActive:p})=>[s("CDN 全局注册")]),tab0:a(({value:t,isActive:p})=>[V]),tab1:a(({value:t,isActive:p})=>[]),_:1})])]),I,n("section",L,[n("ol",N,[n("li",C,[n("p",null,[n("a",E,[s("vue-baidu-map 文档"),e(o)]),s(),K])]),n("li",S,[n("p",null,[n("a",Y,[s("JS API 官方文档"),e(o)]),s(),G])]),J])])])}const F=i(b,[["render",O],["__file","9-2.html.vue"]]);export{F as default};
