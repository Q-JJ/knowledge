import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as c,c as i,a as l,b as n,d as s,e,f as a}from"./app-131d0148.js";const u={},r=a('<h1 id="echart自适应问题解决" tabindex="-1"><a class="header-anchor" href="#echart自适应问题解决" aria-hidden="true">#</a> echart自适应问题解决</h1><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言" aria-hidden="true">#</a> 前言</h2><p>​在echart中，如果想要当容器大小改变时，图表的大小也相应地改变，那么可以通过监听页面的<span style="color:red;"><code>window.onresize</code></span>事件来获取浏览器大小改变的事件，从而调用<span style="color:red;"><code>echartsInstance.resize</code></span>来改变图表的大小。</p>',3),k=a(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code> window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    myChart1<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在做vue平台中的大屏展示页面时，一个page中放了5、6个chart图表。当大屏进入全屏展示后退出全屏时，出现了一个自适应的bug：chart图表大小未正常复原。想着在<span style="color:red;">\`window.onresize</span>中添加就可以解决。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code> window<span class="token punctuation">.</span><span class="token function-variable function">onresize</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    myChart1<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     myChart2<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     myChart3<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>​ 并没有我想的那么顺利，还是出了问题。后来查阅相关资料发现，当页面只有一个图表的时候，只需使用window.onresize = myChart.resize()便可以解决自适应的问题。而页面中含多个图表时，只有一个图表能自适应变化，其他图表的resize()都被覆盖掉了。</p><p>​ 网上的解决方案层出不穷，有用定时器的，有在onresize里重新对图表初始化的……发现大部分对此问题的做法都是在window.addEventListener添加resize方法解决的，这样既可以将多个图表的方法封装，又不会被覆盖。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    myChart<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    myChartA<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    myChartB<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>​ 马上操作一番后，发现可以解决问题。</p><p>​ 经过一番骚操作，又发现了新的bug：当vue页面路由跳转到下一个页面，回到上一个页面进入全屏后再退出，图表样式出现了异常，貌似是图表的resize()方法罢工了。</p><p>​ 经过漫长的百度，发现了问题的原因是：vue是单页面应用，echarts中的操作都是基于window的，当vue页面路由跳转到下一个页面时，上一个页面的onresize方法会继续执行。</p><p>​ 最终对网上的解决方案都测试后，发现两种方法可以解决这个问题：</p><h4 id="方法一" tabindex="-1"><a class="header-anchor" href="#方法一" aria-hidden="true">#</a> 方法一</h4>`,11),d=n("strong",null,"ResizeObserver接口",-1),v={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Element",target:"_blank",rel:"noopener noreferrer"},m=n("code",null,"Element",-1),b={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/SVGElement",target:"_blank",rel:"noopener noreferrer"},h=n("code",null,"SVGElement",-1),f=n("code",null,"observe",-1),_=a(`<ol><li><p>实例化监听器并传入一个回调函数</p></li><li><p>调用observe方法并传入一个元素，开始观察</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> chartObserver<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResizeObserver</span><span class="token punctuation">(</span><span class="token parameter">entries</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 对应操作</span>
     myChart1<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     myChart2<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     myChart3<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//for (let entry of entries) {</span>
   	<span class="token comment">//	console.log(entry)</span>
  	<span class="token comment">//}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
chartObserver<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;my1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chartObserver<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;my2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chartObserver<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;my3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol>`,1),y={id:"方法二",tabindex:"-1"},g=n("a",{class:"header-anchor",href:"#方法二","aria-hidden":"true"},"#",-1),z={href:"https://github.com/always-in/Vue-Echarts-Resize",target:"_blank",rel:"noopener noreferrer"},w=a(`<ol><li><p>在项目中新建一个esresize.js文件，内容如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> EleResize <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">_handleResize</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> ele <span class="token operator">=</span> e<span class="token punctuation">.</span>target <span class="token operator">||</span> e<span class="token punctuation">.</span>srcElement
      <span class="token keyword">var</span> trigger <span class="token operator">=</span> ele<span class="token punctuation">.</span>__resizeTrigger__
      <span class="token keyword">if</span> <span class="token punctuation">(</span>trigger<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> handlers <span class="token operator">=</span> trigger<span class="token punctuation">.</span>__z_resizeListeners
        <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> size <span class="token operator">=</span> handlers<span class="token punctuation">.</span>length
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> h <span class="token operator">=</span> handlers<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
            <span class="token keyword">var</span> handler <span class="token operator">=</span> h<span class="token punctuation">.</span>handler
            <span class="token keyword">var</span> context <span class="token operator">=</span> h<span class="token punctuation">.</span>context
            <span class="token function">handler</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token punctuation">[</span>e<span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">_removeHandler</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> handlers <span class="token operator">=</span> ele<span class="token punctuation">.</span>__z_resizeListeners
      <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> size <span class="token operator">=</span> handlers<span class="token punctuation">.</span>length
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> h <span class="token operator">=</span> handlers<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>h<span class="token punctuation">.</span>handler <span class="token operator">===</span> handler <span class="token operator">&amp;&amp;</span> h<span class="token punctuation">.</span>context <span class="token operator">===</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            handlers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">_createResizeTrigger</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ele</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> obj <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span>
      obj<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;style&#39;</span><span class="token punctuation">,</span>
        <span class="token string">&#39;display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden;opacity: 0; pointer-events: none; z-index: -1;&#39;</span><span class="token punctuation">)</span>
      obj<span class="token punctuation">.</span>onload <span class="token operator">=</span> EleResize<span class="token punctuation">.</span>_handleObjectLoad
      obj<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&#39;text/html&#39;</span>
      ele<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
      obj<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token string">&#39;about:blank&#39;</span>
      <span class="token keyword">return</span> obj
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">_handleObjectLoad</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>contentDocument<span class="token punctuation">.</span>defaultView<span class="token punctuation">.</span>__resizeTrigger__ <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>__resizeElement__
      <span class="token keyword">this</span><span class="token punctuation">.</span>contentDocument<span class="token punctuation">.</span>defaultView<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> EleResize<span class="token punctuation">.</span>_handleResize<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    EleResize<span class="token punctuation">.</span><span class="token function-variable function">on</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> handlers <span class="token operator">=</span> ele<span class="token punctuation">.</span>__z_resizeListeners
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        handlers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        ele<span class="token punctuation">.</span>__z_resizeListeners <span class="token operator">=</span> handlers
        ele<span class="token punctuation">.</span>__resizeTrigger__ <span class="token operator">=</span> ele
        ele<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">&#39;onresize&#39;</span><span class="token punctuation">,</span> EleResize<span class="token punctuation">.</span>_handleResize<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      handlers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">handler</span><span class="token operator">:</span> handler<span class="token punctuation">,</span>
        <span class="token literal-property property">context</span><span class="token operator">:</span> context
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    EleResize<span class="token punctuation">.</span><span class="token function-variable function">off</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> handlers <span class="token operator">=</span> ele<span class="token punctuation">.</span>__z_resizeListeners
      <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        EleResize<span class="token punctuation">.</span><span class="token function">_removeHandler</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> context<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          ele<span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span><span class="token string">&#39;onresize&#39;</span><span class="token punctuation">,</span> EleResize<span class="token punctuation">.</span>_handleResize<span class="token punctuation">)</span>
          <span class="token keyword">delete</span> ele<span class="token punctuation">.</span>__z_resizeListeners
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    EleResize<span class="token punctuation">.</span><span class="token function-variable function">on</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> handlers <span class="token operator">=</span> ele<span class="token punctuation">.</span>__z_resizeListeners
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        handlers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        ele<span class="token punctuation">.</span>__z_resizeListeners <span class="token operator">=</span> handlers
  
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">.</span>position <span class="token operator">===</span> <span class="token string">&#39;static&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          ele<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">&#39;relative&#39;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">var</span> obj <span class="token operator">=</span> EleResize<span class="token punctuation">.</span><span class="token function">_createResizeTrigger</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span>
        ele<span class="token punctuation">.</span>__resizeTrigger__ <span class="token operator">=</span> obj
        obj<span class="token punctuation">.</span>__resizeElement__ <span class="token operator">=</span> ele
      <span class="token punctuation">}</span>
      handlers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">handler</span><span class="token operator">:</span> handler<span class="token punctuation">,</span>
        <span class="token literal-property property">context</span><span class="token operator">:</span> context
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    EleResize<span class="token punctuation">.</span><span class="token function-variable function">off</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> handlers <span class="token operator">=</span> ele<span class="token punctuation">.</span>__z_resizeListeners
      <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        EleResize<span class="token punctuation">.</span><span class="token function">_removeHandler</span><span class="token punctuation">(</span>ele<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> context<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>handlers<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> trigger <span class="token operator">=</span> ele<span class="token punctuation">.</span>__resizeTrigger__
          <span class="token keyword">if</span> <span class="token punctuation">(</span>trigger<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            trigger<span class="token punctuation">.</span>contentDocument<span class="token punctuation">.</span>defaultView<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;resize&#39;</span><span class="token punctuation">,</span> EleResize<span class="token punctuation">.</span>_handleResize<span class="token punctuation">)</span>
            ele<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>trigger<span class="token punctuation">)</span>
            <span class="token keyword">delete</span> ele<span class="token punctuation">.</span>__resizeTrigger__
          <span class="token punctuation">}</span>
          <span class="token keyword">delete</span> ele<span class="token punctuation">.</span>__z_resizeListeners
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">export</span> <span class="token punctuation">{</span>EleResize<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>页面中引入</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>EleResize<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../utils/esresize.js&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>对DOM元素绑定onresize方法</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token function-variable function">listener</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;data触发了布局&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	myChart1<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    myChart2<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    myChart3<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
EleResize<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myCharts1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>listener<span class="token punctuation">)</span>
EleResize<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myCharts2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>listener<span class="token punctuation">)</span>
EleResize<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myCharts3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>listener<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>至此，问题完美解决，不管怎么折腾，图表都可以自适应变化~</p>`,2);function E(j,x){const t=o("ExternalLinkIcon");return c(),i("div",null,[r,l(" more "),k,n("p",null,[s("采用"),d,s("，可以监听到 "),n("a",v,[m,e(t)]),s(" 的内容区域或 "),n("a",b,[h,e(t)]),s("的边界框改变。换句话说这是一个能针对元素实行大小、位置变化监听的API。同时，可多次执行"),f,s("方法对不同元素进行监听。")]),_,n("h4",y,[g,s(),n("a",z,[s("方法二"),e(t)])]),w])}const q=p(u,[["render",E],["__file","10-23.html.vue"]]);export{q as default};
