import{_ as a}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as d,a as n,b as e,d as i,f as r}from"./app-131d0148.js";const l={},c=e("h1",{id:"服务器新增硬盘",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#服务器新增硬盘","aria-hidden":"true"},"#"),i(" 服务器新增硬盘")],-1),t=e("p",null,"今天打算给公司服务器新加一个固态硬盘，用于数据库的数据存储。挂载后重启系统报错了，进不去系统。错误信息为:”you are in emergency mode ...“的信息。通过journalctl -xb命令查看系统日志，发现是硬盘失败的问题。",-1),o=r(`<p>在界面中输入root的密码进入命令行模式。</p><h4 id="查看挂载情况" tabindex="-1"><a class="header-anchor" href="#查看挂载情况" aria-hidden="true">#</a> 查看挂载情况</h4><p>执行命令，查看挂载情况，发现没有出现硬盘的挂载信息，找不到名为/dev/sda 的挂载情况。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">df</span> <span class="token parameter variable">-h</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>在重启之前，我设置了永久自动挂载，因此查看下etc/fstab文件，发现没有问题。</p><p>当我重新查询所有挂载的磁盘信息时，发现名字怎么不对！</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>lsblk <span class="token parameter variable">-l</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>磁盘的名称从sda变成sdb，难怪挂载失败了。考虑到每次重启或者断电后重启后磁盘名称会改变，因此采用磁盘的UUID挂载磁盘，磁盘的UUID是永远不会改变的，具有唯一性</p><h4 id="查看磁盘的uuid" tabindex="-1"><a class="header-anchor" href="#查看磁盘的uuid" aria-hidden="true">#</a> 查看磁盘的UUID</h4><p>执行命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>lsblk <span class="token parameter variable">-f</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>blkid /dev/sdb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>将UUID记下来，然后添加到/etc/fstab文件中，将dev/sda 改为UUID</p><h4 id="测试" tabindex="-1"><a class="header-anchor" href="#测试" aria-hidden="true">#</a> 测试</h4><p>执行命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mount</span> <span class="token parameter variable">-a</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>重启reboot</p><p>正常开机，挂载成功~</p>`,18);function p(h,u){return s(),d("div",null,[c,t,n(" more "),o])}const m=a(l,[["render",p],["__file","9-30.html.vue"]]);export{m as default};
