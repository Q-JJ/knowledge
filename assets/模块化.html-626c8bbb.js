const n=JSON.parse(`{"key":"v-23d18772","path":"/qianduan/%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/Vue/3.Vuex/%E6%A8%A1%E5%9D%97%E5%8C%96.html","title":"模块化+命名空间","lang":"zh-CN","frontmatter":{"icon":"date","order":4,"headerDepth":3,"date":"2022-07-23T00:00:00.000Z","readingTime":"N/A","word":"N/A","lastUpdated":true,"article":false,"description":"模块化+命名空间 目的：让代码更好维护，让多种数据分类更加明确。 修改store.js const countAbout = { namespaced:true,//开启命名空间 state:{x:1}, mutations: { ... }, actions: { ... }, getters: { bigSum(state){ return state.sum * 10 } } } const personAbout = { namespaced:true,//开启命名空间 state:{ ... }, mutations: { ... }, actions: { ... } } const store = new Vuex.Store({ modules: { countAbout, personAbout } }) 开启命名空间后，组件中读取state数据： ![8018242_1567479495575_D3936A1FC6EBC59323A9A311B6076ABF](/Users/jj/Desktop/8018242_1567479495575_D3936A1FC6EBC59323A9A311B6076ABF.png)//方式一：自己直接读取 this.$store.state.personAbout.list //方式二：借助mapState读取： ...mapState('countAbout',['sum','school','subject']), 开启命名空间后，组件中读取getters数据： //方式一：自己直接读取 this.$store.getters['personAbout/firstPersonName'] //方式二：借助mapGetters读取： ...mapGetters('countAbout',['bigSum']) 开启命名空间后，组件中调用dispatch //方式一：自己直接dispatch this.$store.dispatch('personAbout/addPersonWang',person) //方式二：借助mapActions： ...mapActions('countAbout',{incrementOdd:'jiaOdd',incrementWait:'jiaWait'}) 开启命名空间后，组件中调用commit //方式一：自己直接commit this.$store.commit('personAbout/ADD_PERSON',person) //方式二：借助mapMutations： ...mapMutations('countAbout',{increment:'JIA',decrement:'JIAN'}),","head":[["meta",{"property":"og:url","content":"https://q-jj.github.io/knowledge/knowledge/qianduan/%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/Vue/3.Vuex/%E6%A8%A1%E5%9D%97%E5%8C%96.html"}],["meta",{"property":"og:site_name","content":"湫的知识海洋"}],["meta",{"property":"og:title","content":"模块化+命名空间"}],["meta",{"property":"og:description","content":"模块化+命名空间 目的：让代码更好维护，让多种数据分类更加明确。 修改store.js const countAbout = { namespaced:true,//开启命名空间 state:{x:1}, mutations: { ... }, actions: { ... }, getters: { bigSum(state){ return state.sum * 10 } } } const personAbout = { namespaced:true,//开启命名空间 state:{ ... }, mutations: { ... }, actions: { ... } } const store = new Vuex.Store({ modules: { countAbout, personAbout } }) 开启命名空间后，组件中读取state数据： ![8018242_1567479495575_D3936A1FC6EBC59323A9A311B6076ABF](/Users/jj/Desktop/8018242_1567479495575_D3936A1FC6EBC59323A9A311B6076ABF.png)//方式一：自己直接读取 this.$store.state.personAbout.list //方式二：借助mapState读取： ...mapState('countAbout',['sum','school','subject']), 开启命名空间后，组件中读取getters数据： //方式一：自己直接读取 this.$store.getters['personAbout/firstPersonName'] //方式二：借助mapGetters读取： ...mapGetters('countAbout',['bigSum']) 开启命名空间后，组件中调用dispatch //方式一：自己直接dispatch this.$store.dispatch('personAbout/addPersonWang',person) //方式二：借助mapActions： ...mapActions('countAbout',{incrementOdd:'jiaOdd',incrementWait:'jiaWait'}) 开启命名空间后，组件中调用commit //方式一：自己直接commit this.$store.commit('personAbout/ADD_PERSON',person) //方式二：借助mapMutations： ...mapMutations('countAbout',{increment:'JIA',decrement:'JIAN'}),"}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-11-04T12:24:58.000Z"}],["meta",{"property":"article:author","content":"Yivn"}],["meta",{"property":"article:published_time","content":"2022-07-23T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-11-04T12:24:58.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"模块化+命名空间\\",\\"description\\":\\"模块化+命名空间 目的：让代码更好维护，让多种数据分类更加明确。 修改store.js const countAbout = { namespaced:true,//开启命名空间 state:{x:1}, mutations: { ... }, actions: { ... }, getters: { bigSum(state){ return state.sum * 10 } } } const personAbout = { namespaced:true,//开启命名空间 state:{ ... }, mutations: { ... }, actions: { ... } } const store = new Vuex.Store({ modules: { countAbout, personAbout } }) 开启命名空间后，组件中读取state数据： ![8018242_1567479495575_D3936A1FC6EBC59323A9A311B6076ABF](/Users/jj/Desktop/8018242_1567479495575_D3936A1FC6EBC59323A9A311B6076ABF.png)//方式一：自己直接读取 this.$store.state.personAbout.list //方式二：借助mapState读取： ...mapState('countAbout',['sum','school','subject']), 开启命名空间后，组件中读取getters数据： //方式一：自己直接读取 this.$store.getters['personAbout/firstPersonName'] //方式二：借助mapGetters读取： ...mapGetters('countAbout',['bigSum']) 开启命名空间后，组件中调用dispatch //方式一：自己直接dispatch this.$store.dispatch('personAbout/addPersonWang',person) //方式二：借助mapActions： ...mapActions('countAbout',{incrementOdd:'jiaOdd',incrementWait:'jiaWait'}) 开启命名空间后，组件中调用commit //方式一：自己直接commit this.$store.commit('personAbout/ADD_PERSON',person) //方式二：借助mapMutations： ...mapMutations('countAbout',{increment:'JIA',decrement:'JIAN'}),\\"}"]]},"headers":[],"git":{"createdTime":1699100698000,"updatedTime":1699100698000,"contributors":[{"name":"Q-JJ","email":"J001222@163.com","commits":1}]},"readingTime":{"minutes":0.89,"words":268},"filePathRelative":"qianduan/框架学习/Vue/3.Vuex/模块化.md","localizedDate":"2022年7月23日","excerpt":"<h1> 模块化+命名空间</h1>\\n<ol>\\n<li>\\n<p>目的：让代码更好维护，让多种数据分类更加明确。</p>\\n</li>\\n<li>\\n<p>修改<code>store.js</code></p>\\n<div class=\\"language-javascript line-numbers-mode\\" data-ext=\\"js\\"><pre class=\\"language-javascript\\"><code><span class=\\"token keyword\\">const</span> countAbout <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token literal-property property\\">namespaced</span><span class=\\"token operator\\">:</span><span class=\\"token boolean\\">true</span><span class=\\"token punctuation\\">,</span><span class=\\"token comment\\">//开启命名空间</span>\\n  <span class=\\"token literal-property property\\">state</span><span class=\\"token operator\\">:</span><span class=\\"token punctuation\\">{</span><span class=\\"token literal-property property\\">x</span><span class=\\"token operator\\">:</span><span class=\\"token number\\">1</span><span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token literal-property property\\">mutations</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span> <span class=\\"token operator\\">...</span> <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token literal-property property\\">actions</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span> <span class=\\"token operator\\">...</span> <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token literal-property property\\">getters</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token function\\">bigSum</span><span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">state</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">{</span>\\n       <span class=\\"token keyword\\">return</span> state<span class=\\"token punctuation\\">.</span>sum <span class=\\"token operator\\">*</span> <span class=\\"token number\\">10</span>\\n    <span class=\\"token punctuation\\">}</span>\\n  <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token keyword\\">const</span> personAbout <span class=\\"token operator\\">=</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token literal-property property\\">namespaced</span><span class=\\"token operator\\">:</span><span class=\\"token boolean\\">true</span><span class=\\"token punctuation\\">,</span><span class=\\"token comment\\">//开启命名空间</span>\\n  <span class=\\"token literal-property property\\">state</span><span class=\\"token operator\\">:</span><span class=\\"token punctuation\\">{</span> <span class=\\"token operator\\">...</span> <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token literal-property property\\">mutations</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span> <span class=\\"token operator\\">...</span> <span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">,</span>\\n  <span class=\\"token literal-property property\\">actions</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span> <span class=\\"token operator\\">...</span> <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n\\n<span class=\\"token keyword\\">const</span> store <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token class-name\\">Vuex<span class=\\"token punctuation\\">.</span>Store</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token literal-property property\\">modules</span><span class=\\"token operator\\">:</span> <span class=\\"token punctuation\\">{</span>\\n    countAbout<span class=\\"token punctuation\\">,</span>\\n    personAbout\\n  <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div></li>\\n<li>\\n<p>开启命名空间后，组件中读取state数据：</p>\\n<div class=\\"language-javascript line-numbers-mode\\" data-ext=\\"js\\"><pre class=\\"language-javascript\\"><code><span class=\\"token operator\\">!</span><span class=\\"token punctuation\\">[</span>8018242_1567479495575_D3936A1FC6EBC59323A9A311B6076ABF<span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">(</span><span class=\\"token operator\\">/</span>Users<span class=\\"token operator\\">/</span>jj<span class=\\"token operator\\">/</span>Desktop<span class=\\"token operator\\">/</span>8018242_1567479495575_D3936A1FC6EBC59323A9A311B6076ABF<span class=\\"token punctuation\\">.</span>png<span class=\\"token punctuation\\">)</span><span class=\\"token comment\\">//方式一：自己直接读取</span>\\n<span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>$store<span class=\\"token punctuation\\">.</span>state<span class=\\"token punctuation\\">.</span>personAbout<span class=\\"token punctuation\\">.</span>list\\n<span class=\\"token comment\\">//方式二：借助mapState读取：</span>\\n<span class=\\"token operator\\">...</span><span class=\\"token function\\">mapState</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'countAbout'</span><span class=\\"token punctuation\\">,</span><span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'sum'</span><span class=\\"token punctuation\\">,</span><span class=\\"token string\\">'school'</span><span class=\\"token punctuation\\">,</span><span class=\\"token string\\">'subject'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">,</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div></li>\\n<li>\\n<p>开启命名空间后，组件中读取getters数据：</p>\\n<div class=\\"language-javascript line-numbers-mode\\" data-ext=\\"js\\"><pre class=\\"language-javascript\\"><code><span class=\\"token comment\\">//方式一：自己直接读取</span>\\n<span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>$store<span class=\\"token punctuation\\">.</span>getters<span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'personAbout/firstPersonName'</span><span class=\\"token punctuation\\">]</span>\\n<span class=\\"token comment\\">//方式二：借助mapGetters读取：</span>\\n<span class=\\"token operator\\">...</span><span class=\\"token function\\">mapGetters</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'countAbout'</span><span class=\\"token punctuation\\">,</span><span class=\\"token punctuation\\">[</span><span class=\\"token string\\">'bigSum'</span><span class=\\"token punctuation\\">]</span><span class=\\"token punctuation\\">)</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div></li>\\n<li>\\n<p>开启命名空间后，组件中调用dispatch</p>\\n<div class=\\"language-javascript line-numbers-mode\\" data-ext=\\"js\\"><pre class=\\"language-javascript\\"><code><span class=\\"token comment\\">//方式一：自己直接dispatch</span>\\n<span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>$store<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">dispatch</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'personAbout/addPersonWang'</span><span class=\\"token punctuation\\">,</span>person<span class=\\"token punctuation\\">)</span>\\n<span class=\\"token comment\\">//方式二：借助mapActions：</span>\\n<span class=\\"token operator\\">...</span><span class=\\"token function\\">mapActions</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'countAbout'</span><span class=\\"token punctuation\\">,</span><span class=\\"token punctuation\\">{</span><span class=\\"token literal-property property\\">incrementOdd</span><span class=\\"token operator\\">:</span><span class=\\"token string\\">'jiaOdd'</span><span class=\\"token punctuation\\">,</span><span class=\\"token literal-property property\\">incrementWait</span><span class=\\"token operator\\">:</span><span class=\\"token string\\">'jiaWait'</span><span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div></li>\\n<li>\\n<p>开启命名空间后，组件中调用commit</p>\\n<div class=\\"language-javascript line-numbers-mode\\" data-ext=\\"js\\"><pre class=\\"language-javascript\\"><code><span class=\\"token comment\\">//方式一：自己直接commit</span>\\n<span class=\\"token keyword\\">this</span><span class=\\"token punctuation\\">.</span>$store<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">commit</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'personAbout/ADD_PERSON'</span><span class=\\"token punctuation\\">,</span>person<span class=\\"token punctuation\\">)</span>\\n<span class=\\"token comment\\">//方式二：借助mapMutations：</span>\\n<span class=\\"token operator\\">...</span><span class=\\"token function\\">mapMutations</span><span class=\\"token punctuation\\">(</span><span class=\\"token string\\">'countAbout'</span><span class=\\"token punctuation\\">,</span><span class=\\"token punctuation\\">{</span><span class=\\"token literal-property property\\">increment</span><span class=\\"token operator\\">:</span><span class=\\"token string\\">'JIA'</span><span class=\\"token punctuation\\">,</span><span class=\\"token literal-property property\\">decrement</span><span class=\\"token operator\\">:</span><span class=\\"token string\\">'JIAN'</span><span class=\\"token punctuation\\">}</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">,</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div></li>\\n</ol>","autoDesc":true}`);export{n as data};
