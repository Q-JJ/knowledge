---
icon: date
order: 1
headerDepth: 3
date: 2022-07-23
readingTime: N/A
word: N/A
lastUpdated: true
article: false
---

# 计算机网络（HTTP、TCP）


## HTTP 
主要特点：简单快速、灵活、**无连接**、**无状态**

http报文包括：**请求报文**和**响应报文**

![http报文](http://img.smyhvae.com/20180306_1400.png)

方法：GET、POST、PUT、DELETE、HEAD



### **GET与POST区别**

1、浏览器在回退时，get**不会重新请求**，但是post会重新请求。✔️

2、get请求会被浏览器**主动缓存**，而post不会。✔️

3、get请求的参数，会报**保留**在浏览器的**历史记录**里，而post不会。为了防止CSRF攻击，很多公司把get统一改成了post。✔️

4、get请求在url中传递的参数有大小限制，基本是2kb，不同的浏览器略有不同。而post没有。

5、get的参数是直接暴露在url上的，相对不安全。而post是放在请求体中的。

6、参数的数据类型，GET只接受ASCII字符，POST无限制。

---
### HTTP 状态码

| **分类** | **分类描述**                                                 |
| -------- | ------------------------------------------------------------ |
| 1**      | 信息，服务器收到请求，需要请求者继续执行操作（实际开发中很少遇到 1** 类型的状态码） |
| 2**      | 成功，操作被成功接收并处理                                   |
| 3**      | 重定向，需要进一步的操作以完成请求                           |
| 4**      | 客户端错误，请求包含语法错误或无法完成请求                   |
| 5**      | 服务器错误，服务器在处理请求的过程中发生了错误               |

| **状态码** | **状态码英文名称** |                         **中文描述**                         |
| :--------: | ------------------ | :----------------------------------------------------------: |
|    200     | OK                 |             请求成功。一般用于 GET 与 POST 请求              |
|    201     | Created            | 已创建。成功请求并创建了新的资源，通常用于 POST 或 PUT 请求  |
|    301     | Moved Permanently  | 永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替 |
|    302     | Found              | 临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有URI |
|    304     | Not Modified       | 未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源（响应消息中不包含响应体）。客户端通常会缓存访问过的资源。 |

| **状态码** | **状态码英文名称** | **中文描述**                                                 |
| ---------- | ------------------ | ------------------------------------------------------------ |
| 400        | Bad Request        | 1、语义有误，当前请求无法被服务器理解。除非进行修改，否则客户端不应该重复提交这个请求。 2、请求参数有误。 |
| 401        | Unauthorized       | 当前请求需要用户验证。                                       |
| 403        | Forbidden          | 服务器已经理解请求，但是拒绝执行它。                         |
| 404        | Not Found          | 服务器无法根据客户端的请求找到资源（网页）。                 |
| 408        | Request Timeout    | 请求超时。服务器等待客户端发送的请求时间过长，超时。         |

| **状态码** | **状态码英文名称**    | **中文描述**                                                 |
| ---------- | --------------------- | ------------------------------------------------------------ |
| 500        | Internal Server Error | 服务器内部错误，无法完成请求。                               |
| 501        | Not Implemented       | 服务器不支持该请求方法，无法完成请求。只有 GET 和 HEAD 请求方法是要求每个服务器必须支持的，其它请求方法在不支持的服务器上会返回501 |
| 503        | Service Unavailable   | 由于超载或系统维护，服务器暂时的无法处理客户端的请求。       |

### http 和 https 的区别及优缺点✔️

- http 是超文本传输协议，信息是明文传输，HTTPS 协议要比 http 协议`安全`，https 是具有安全性的 ssl 加密传输协议，可防止数据在传输过程中被窃取、改变，确保数据的完整性(当然这种安全性并非绝对的，对于更深入的 Web 安全问题，此处暂且不表)。
- http 协议的默认端口为 **80**，https 的默认端口为 443。
- http 的连接很简单，是无状态的。https 握手阶段比较费时，会使页面加载时间延长 50%，增加 10%~20%的耗电。
- https 缓存不如 http 高效，会增加数据开销。
- Https 协议需要 **CA证书**，费用较高。
- SSL 证书需要绑定 IP，不能再同一个 IP 上绑定多个域名，IPV4 资源支持不了这种消耗。



### 持久链接/http长连接（了解）


- **轮询**：http1.0中，客户端每隔很短的时间，都会对服务器发出请求，查看是否有新的消息，只要轮询速度足够快，例如1秒，就能给人造成交互是实时进行的印象。这种做法是无奈之举，实际上对服务器、客户端双方都造成了大量的性能浪费。


- **长连接**：HTTP1.1中，通过使用Connection:keep-alive进行长连接。客户端只请求一次，但是服务器会将继续保持连接，当再次请求时，避免了重新建立连接。


:::warning 注意
HTTP 1.1默认进行持久连接。在一次 TCP 连接中可以完成多个 HTTP 请求，但是对**每个请求仍然要单独发 header**，Keep-Alive不会永久保持连接，它有一个保持时间，可以在不同的服务器软件（如Apache）中设定这个时间。
:::

### 长连接中的管线化

长连接时，**默认**的请求这样的：

```
	请求1 --> 响应1 -->请求2 --> 响应2 --> 请求3 --> 响应3
```

长连接中的管线化：

```
	请求1 --> 请求2 --> 请求3 --> 响应1 --> 响应2 --> 响应3
```

管线化:把现在的请求打包，一次性发过去，最后再一次性响应回来。





## TCP和UDP的区别

1. TCP是面向链接的，而UDP是面向无连接的。
2. TCP仅支持**单播传输**，UDP 提供了单播，多播，广播的功能。
3. TCP的三次握手保证了连接的**可靠性**；UDP是**无连接的、不可靠的**一种数据传输协议，首先不可靠性体现在无连接上，通信都不需要建立连接，对接收到的数据也不发送确认信号，发送端不知道数据是否会正确接收。
4. UDP的头部开销比TCP的更小，数据传输速率更高，实时性更好。